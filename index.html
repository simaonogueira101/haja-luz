<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>luz</title>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="css/style-THREE.css">
		<link rel="stylesheet" href="css/style.css">
</head>


		<body>

			<script type="text/javascript">
				var state = 0;
				function infoClick() {
					if(state == 0) {
						document.getElementById('info').style.display = 'flex';
						document.getElementById("infoButton").innerHTML = "x";
						document.getElementById("infoButton").style.backgroundColor = "black";
						document.getElementById("infoButton").style.color = "white";
						state = 1;
					}else {
						document.getElementById('info').style.display = 'none';
						document.getElementById("infoButton").innerHTML = "info";
						document.getElementById("infoButton").style.backgroundColor = "white";
						document.getElementById("infoButton").style.color = "black";
						state = 0;
					}
				}
				setTimeout(function(){
				    document.getElementById("infoButton").style.opacity = "1";
				}, 215000);
			</script>

			<div class="info-overlay" id="info">
				<div>
					<p>
						“A luz é uma onda eletromagnética (…) que se inclui num determinado
						intervalo dentro do qual o olho humano é a ela sensível.”
						A dispersão das palavras no poema de Alberto Pimenta reverte exatamente
						para esta definição. A tecnicidade que se pode atribuir à ideia de ver,
						quebrada pelo estático do poema, reconstruída pela interpretação concedida
						- novamente - pela distribuição de palavras e pela sua repetição,
						críticos para a leitura e compreensão do texto.
					</p>
					<br>
					<p>
						À vontade que assim surge de ilustrar e animar este conceito alia-se a
						componente pessoal e individual da relação entre mim e o meu avô. Por
						ser um tão grande amigo e por ter sido quem ao colo me tinha quando em
						criança pela primeira vez disse uma palavra - luz, este universo em que
						o poema passa a viver, tirado do papel, exportado para um mundo tridimensional
						- pluridimensional, se se contar com fatores como a música e a leitura
						- reflete não só a longa relação que temos, mas também a efêmera
						juventude que recordamos.
					</p>
					<br>
					<p>
						Um académico e escritor a quem a idade roubou por metade a visão e a
						destreza, que outrora trabalhava em laboratório com “peças com menos de
						8 mícrons de milimetro” - que recorda com saudade e orgulho -  sente-se
						agora incapaz de ler o que lhe peço. Da mesma forma se apresenta escondido
						o poema por detrás de uma nuvem de escuridão, de confusão, e do que
						outrora foram as ideias e a troca das mesmas entre colegas, amigos, e
						com o seu neto.
					</p>
					<br>
					<p>
						Esta nuvem foi desenvolvida a partir de um algoritmo generativo, sendo
						assim composta por metaballs que interagem umas com as outras de forma
						dinâmica e imprevisível ao longo da animação. Geralmente pensadas para
						representar dados e estando fortemente ligadas à análise dos mesmos,
						criam novamente uma ligação entre o passado e o presente, entre a
						aquisição e a transmissão de conhecimentos. Ao mesmo tempo um novo elemento
						é introduzido - o som. A 5ª Sinfonia de Beethoven (interpretada pela
						Skidmore College Orchestra), o compositor mais ouvido no escritório do
						meu avô, e a voz que já tanto me disse.
					</p>
					<br>
					<p>
						Do ambiente criado no ecrã e do registo sonoro obtido da leitura do poema,
						tenta-se gerar uma ideia abstrata de conversa, a entrada no e a visão do interior do subconsciente,
						do ponto de vista de quem ouve, em que o assunto é o poema em questão.
					</p>
					<br>
					<p>
						Obrigado, avô.
					</p>
					<br>
				</div>

				<p>animação tipográfica do poema "luz" de Alberto Pimenta &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
				<p>&nbsp; &nbsp; &nbsp;do livro Heterofonia, publicado em 1979</p>
				<br>
				<p>luz, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
				<p>realizada por Simão Nogueira</p>
				<p>como trabalho académico no âmbito da unidade curricular tipografia em meios digitais</p>
				<p>do 2º ano da licenciatura em design e multimédia da</p>
				<p>FCTUC – Faculdade de Ciências e Tecnologia da Universidade de Coimbra,</p>
				<p>sob orientação dos docentes Nuno Coelho e Paul Hardman</p>
				<p>(novembro de 2017)</p>
			</div>

			<div id="container">

				<div onclick="infoClick()" class="info-button" id="infoButton">info</div>

				<div class="container-overlay" style="background: rgba(0,0,0,0); z-index: 200;">
					<div class="container-center">
						<a class="start-button" onclick="startButton(); backMusic();" id="start">
							<p>haja luz</p>
						</a>
					</div>
				</div>
				<div class="container-overlay flash-overlay flash-start" id="flash"></div>

				<div class="container-overlay container-center container-text" id="text10">
					<div class="indication">
						a minha primeira palavra
					</div>
				</div>

				<div class="container-overlay container-center container-text" id="text11">
					<div class="indication">
						a trilha sonora de tantas conversas com ele
					</div>
				</div>

				<div class="container-overlay container-center container-text" id="text12">
					<div class="indication">
						a voz antiga do meu avô
					</div>
				</div>

				<div class="container-overlayTwo" id="flashTwo"></div>

				<div class="container-overlay container-center container-text" id="text2">
					<p>e ele disse</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ele disse</p>
					<p>&nbsp;&nbsp;disse haja</p>
					<p>&nbsp;luz</p>
					<p>&nbsp;luz</p>
					<p>luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz</p>
					<p>&nbsp;&nbsp;luz</p>
					<p>luz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;haja</p>
					<p>luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; luz</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz</p>
					<p>luz &nbsp;&nbsp;&nbsp;luz&nbsp;&nbsp; luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
					<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz</p>
					<p>luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz &nbsp;&nbsp;&nbsp;luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; luz</p>
					<p>luz &nbsp;&nbsp;&nbsp;&nbsp;luz &nbsp;&nbsp;&nbsp;&nbsp;luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz&nbsp;&nbsp;&nbsp;&nbsp; luz &nbsp;&nbsp;luz</p>
					<p>luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz&nbsp;&nbsp;&nbsp;&nbsp; luz</p>
					<p>luz &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;luz &nbsp;&nbsp;&nbsp;luz</p>
					<p>luz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
				</div>

				<div class="container-overlay container-center container-text" id="text1">
					<p>a quem me segurou ao colo quando pela primeira vez disse &nbsp; &nbsp;</p>
					<p>&nbsp; &nbsp; &nbsp;luz</p>
					<br>
					<p>luz, &nbsp;</p>
					<p>para sempre</p>
					<p>haja luz &nbsp; &nbsp;</p>
				</div>

				<div class="container-overlay container-center container-text" id="text3">
					<p>animação tipográfica do poema "luz" de Alberto Pimenta &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
					<p>&nbsp; &nbsp; &nbsp;do livro Heterofonia, publicado em 1979</p>
					<br>
					<p>luz, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
					<p>realizada por Simão Nogueira</p>
					<p>como trabalho académico no âmbito da unidade curricular tipografia em meios digitais</p>
					<p>do 2º ano da licenciatura em design e multimédia da</p>
					<p>FCTUC – Faculdade de Ciências e Tecnologia da Universidade de Coimbra,</p>
					<p>sob orientação dos docentes Nuno Coelho e Paul Hardman</p>
					<p>(novembro de 2017)</p>
				</div>

				<div class="container-overlay container-center container-text" id="text4">
					<div class="indication">
						interaja com o rato. zoom, clique e arrastar
					</div>
				</div>

				<canvas width="2880" height="1564" style="width: 1440px; height: 782px;"></canvas>
			</div>

			<div id="loading">Loading...</div>
			<div id="options">
				<a class="button" id="fullscreenBtn"></a>
			</div>
			<div id="switch">
			<a id="switchMaterial" class="button"></a></p>
			</div>

			<script src="./js/Three.js"></script>
			<script src="./js/MarchingCubes.js"></script>
			<script src="./js/Stats.js"></script>
			<script src="./js/ThreeRenderStats.js"></script>
			<script src="./js/ImprovedNoise.js"></script>

			<script type="x-shader/x-vertex" id="sphere-vs">
				void main() {
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}
			</script>

			<script type="x-shader/x-vertex" id="sphere-fs">
				uniform vec2 resolution;
				uniform float noise;
				uniform vec3 color;

				#define VIG_REDUCTION_POWER 1.
				#define VIG_BOOST 1.

				float random(vec3 scale,float seed){return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);}

				void main() {

					vec2 center = resolution * 0.5;
					float vignette = distance( center, gl_FragCoord.xy ) / resolution.x;
					vignette = VIG_BOOST - vignette * VIG_REDUCTION_POWER;

					float n = noise * ( .5 - random( vec3( 1. ), length( gl_FragCoord ) ) );

					float v = .5 * length( vec2( gl_FragCoord.y / resolution.y, ( 1. - abs( .5 - gl_FragCoord.x / resolution.x ) ) ) );
					vec3 base = color;
					base += vec3( pow( v, 2. ) );
					gl_FragColor = vec4( base * vec3( vignette ) + vec3( n ), 1. );
				}
			</script>

			<script type="x-shader/x-vertex" id="rim-vs">
				varying vec3 vNormal;
				varying vec3 vEye;

				void main() {

					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

					vNormal = normalize( normalMatrix * normal );
					vEye = ( modelViewMatrix * vec4( position, 1.0 ) ).xyz;

				}
			</script>

			<script type="x-shader/x-fragment" id="rim-fs">
				varying vec3 vNormal;
				varying vec3 vEye;

				void main() {

					float f = 2. * abs( dot( vNormal, normalize( vEye ) ) );
					f = .2 * ( 1. - smoothstep( 0.0, 1., f ) );
					gl_FragColor = vec4( 1., 1., 1., f );

				}
			</script>

			<script type="x-shader/x-vertex" id="vertexShader">
				varying vec3 vNormal;
		    varying vec4 vPosition;
		    varying vec4 vOPosition;
				varying vec3 vONormal;
		    varying vec3 vU;
		    varying vec3 vEye;

		    void main() {

		        vOPosition = modelViewMatrix * vec4( position, 1.0 );
		        gl_Position = projectionMatrix * vOPosition;

		        vU = normalize( vec3( modelViewMatrix * vec4( position, 1.0 ) ) );

		        vPosition = vec4( position, 1.0 );
		        vNormal = normalMatrix * normal;
		        vONormal = normal;

		    }
			</script>

			<script type="x-shader/x-vertex" id="fragmentShader">
				uniform sampler2D textureMap;
		    uniform sampler2D normalMap;
		    uniform vec3 color;
		    uniform float normalScale;
		    uniform float texScale;
		    uniform float useSSS;
		    uniform float useScreen;

		    varying vec3 vNormal;
		    varying vec4 vPosition;
		    varying vec4 vOPosition;
				varying vec3 vONormal;
				varying vec3 vU;
		    varying vec3 vEye;

				float random(vec3 scale,float seed){return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);}

			    void main() {

			        vec3 n = normalize( vONormal.xyz );
			        vec3 blend_weights = abs( n );
			        blend_weights = ( blend_weights - 0.2 ) * 7.;
			        blend_weights = max( blend_weights, 0. );
			        blend_weights /= ( blend_weights.x + blend_weights.y + blend_weights.z );

			        vec2 coord1 = vPosition.yz * texScale;
			        vec2 coord2 = vPosition.zx * texScale;
			        vec2 coord3 = vPosition.xy * texScale;

			        vec3 bump1 = texture2D( normalMap, coord1 ).rgb;
			        vec3 bump2 = texture2D( normalMap, coord2 ).rgb;
			        vec3 bump3 = texture2D( normalMap, coord3 ).rgb;

			        vec3 blended_bump = bump1 * blend_weights.xxx +
			                            bump2 * blend_weights.yyy +
			                            bump3 * blend_weights.zzz;

			        vec3 tanX = vec3( vNormal.x, -vNormal.z, vNormal.y);
			        vec3 tanY = vec3( vNormal.z, vNormal.y, -vNormal.x);
			        vec3 tanZ = vec3(-vNormal.y, vNormal.x, vNormal.z);
			        vec3 blended_tangent = tanX * blend_weights.xxx +
			                               tanY * blend_weights.yyy +
			                               tanZ * blend_weights.zzz;

			        vec3 normalTex = blended_bump * 2.0 - 1.0;
			        normalTex.xy *= normalScale;
			        normalTex.y *= -1.;
			        normalTex = normalize( normalTex );
			        mat3 tsb = mat3( normalize( blended_tangent ), normalize( cross( vNormal, blended_tangent ) ), normalize( vNormal ) );
			        vec3 finalNormal = tsb * normalTex;

			        vec3 r = reflect( normalize( vU ), normalize( finalNormal ) );
			        float m = 2.0 * sqrt( r.x * r.x + r.y * r.y + ( r.z + 1.0 ) * ( r.z + 1.0 ) );
			        vec2 calculatedNormal = vec2( r.x / m + 0.5,  r.y / m + 0.5 );

			        vec3 base = texture2D( textureMap, calculatedNormal ).rgb;

					float rim = 1.75 * max( 0., abs( dot( normalize( vNormal ), normalize( -vOPosition.xyz ) ) ) );
					base += useSSS * color * ( 1. - .75 * rim );
					base += ( 1. - useSSS ) * 10. * base * color * clamp( 1. - rim, 0., .15 );

					if( useScreen == 1. ) {
						base = vec3( 1. ) - ( vec3( 1. ) - base ) * ( vec3( 1. ) - base );
					}

					float nn = .05 * random( vec3( 1. ), length( gl_FragCoord ) );
			        base += vec3( nn );

			        gl_FragColor = vec4( base.rgb, 1. );

			    }
			</script>

			<script src="js/sequence.js"></script>
			<script src='js/threex.domevents.js'></script>
	</body>
</html>
